<div class="card">
    <div class="card-image">
        <figure class="image square">
            <canvas #canvas width="400" height="400"></canvas>
            {{ updatePainting() }}
        </figure>
    </div>
    <div class="card-content">
        <div class="media" (click)='select.emit(artWork)'>
            <div class="media-content">
                <div *ngIf='!artWork.validated'>ðŸš§ ðŸ‘· In progress ðŸ‘· ðŸš§</div>
                <p class="title is-4">{{ artWork.title }}</p>
                <p class="subtitle is-6">{{ artWork.author }}</p>
                <div>Grid size {{ artWork.size.width }} x {{ artWork.size.height }}</div>
                <p>{{ artWork.description }}</p>
                <div *ngIf='artWork.author==state.user.pseudo'>
                    <button *ngIf='!artWork.validated' class='button is-primary' (click)='edit.emit(artWork)'>Edit</button>
                </div>
                <div *ngIf='artWork.messages'>
                    <div *ngFor='let message of artWork.messages'>
                        <i>{{ message.author }} :</i> {{ message.text }}
                    </div>
                </div>
                <input #newMessage type="text" (keyup.enter)='sendMessage(artWork.id, newMessage)' style='font-size: 80%;'>
                <button class='button' (click)='sendMessage(artWork.id, newMessage)'>Send message</button>
            </div>
        </div>
    </div>
</div>