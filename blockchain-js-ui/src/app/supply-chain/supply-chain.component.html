<div *ngIf='!state.hasSupplyChainAccount'>
    <h2>Supply Chain account creation, please wait...</h2>
    <div>RSA keys: {{ state.user.keys != null ? '✔️' : '❌' }}</div>
    <div>Identity contract : {{ state.hasIdentityContract ? '✔️' : '❌' }}</div>
    <div>Registered Identity : {{ state.registeredOnIdentityContract ? '✔️' : '❌' }}</div>
</div>
<div *ngIf='state.hasSupplyChainAccount'>
    <div *ngIf='!editingArtwork' class="container">
        <h2>Inventory</h2>
        <div *ngFor='let item of inventory' style='display: inline-block;'>
            <art-work-icon [artWorkId]='item.id'></art-work-icon>
            <b>{{ item.count }}</b>
            <div *ngFor='let claim of item.claimsBy'>
                asked by <b>{{ claim.userId }}</b> to build <b>{{ state.programState.artWorks[claim.artWorkId].title }}</b>
                <button class='button is-primary' (click)='acceptGivingItem(item.id, claim.artWorkId)'>accept</button>
            </div>
        </div>

        <h2>Artworks</h2> ({{ users.length }} registered users)
        <div>
            <button class='button is-primary' (click)='initArtWorkCreation()'>Create a new Artwork</button>
        </div>
        <div class="artWorks">
            <art-work-summary *ngFor='let artWork of artWorksToDisplay()' [artWork]='artWork' (edit)='editArtWork($event)'></art-work-summary>
        </div>
    </div>

    <div *ngIf='editingArtwork' class='container'>
        <art-work-edition [artWork]='editingArtwork' (save)='saveArtwork()' (validate)='validateArtWork(editingArtwork)'
            (cancel)='cancelArtwork()'></art-work-edition>
    </div>

    <!--{{ state.programState | json }}-->
</div>